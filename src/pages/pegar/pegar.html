<!--
  Generated template for the PegarPage page.

  See http://ionicframework.com/docs/components/#navigation for more info on
  Ionic pages and navigation.
-->
<ion-header>

  <ion-navbar>
    <ion-title>Pegar Emprestado</ion-title>
  </ion-navbar>

</ion-header>


<ion-content>
  <ion-searchbar (ionInput)="getItems($event)"></ion-searchbar>
 
  <!-- lista o resultado da busca -->
  <!-- <ion-list *ngIf="userInput != ''">
    <ion-item *ngFor="let item of items">
      {{ item }}
    </ion-item>
  </ion-list> -->

  <!-- lista tudo caso ninguem pesquise nada -->
  <ion-list *ngIf="userInput == ''">
    <ion-card class="thing-card" *ngFor="let item of items">
      <ion-title>
        <h1>{{item.nome}}</h1>
        <h3>{{item.desc}}</h3>
        <h3>
          <ion-icon name='clock'></ion-icon>
          {{item.tempoInicio}} até {{item.tempoFim}}
          <ion-icon name='cash'></ion-icon>
          <!-- TODO format preco -->
          R${{item.preco}}/min
        </h3>
      </ion-title>
      <div style="position: relative">
        <img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcT3UkbyteFsx21X1Xe7gATr6fr3N34ckZ6FkdV3DkmKQ9CWUeQV">
      </div>

      <ion-item>
          <ion-icon color="subtle" large item-start name='person'></ion-icon>
          <h2>{{item.dono.nome}}</h2>
          <p *ngIf="item.dono.reputacao != -1">
            <ion-icon name='star' *ngIf="item.dono.reputacao >= 1"></ion-icon>
            <ion-icon name='star'></ion-icon>
            <ion-icon name='star'></ion-icon>
            <ion-icon name='star'></ion-icon>
            <ion-icon name='star'></ion-icon>
          </p>
          <p *ngIf="item.dono.reputacao == -1">
            sem avaliações
          </p>
        </ion-item>

      <ion-item (click)="mapClick()">
        <ion-icon color="subtle" large item-start name='map'></ion-icon>
        <h2>M.A.S.P.</h2>
        <p>Avenida Paulista, 3349</p>
        <span ion-text item-end color="secondary" class="item-bold">18 min</span>
        <span ion-text item-end color="subtle">(459m)</span>
      </ion-item>

      <ion-item actions>
        <button ion-button block color="primary">
          Pegar
        </button>
      </ion-item>
    </ion-card>

  </ion-list>

</ion-content>
